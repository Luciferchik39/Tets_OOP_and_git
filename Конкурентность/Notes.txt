1Ô∏è‚É£ –§–£–ù–î–ê–ú–ï–ù–¢–ê–õ–¨–ù–´–ï –ü–û–ù–Ø–¢–ò–Ø

–ü—Ä–æ—Ü–µ—Å—Å vs –ü–æ—Ç–æ–∫ vs –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä
–¢–µ—Ä–º–∏–Ω	–ß—Ç–æ —ç—Ç–æ?	–ê–Ω–∞–ª–æ–≥–∏—è
–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä	–§–∏–∑–∏—á–µ—Å–∫–æ–µ –∂–µ–ª–µ–∑–æ (—á–∏–ø)	–ó–∞–≤–æ–¥ —Å —Ä–∞–±–æ—á–∏–º–∏
–Ø–¥—Ä–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞	–û–¥–∏–Ω –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –≤–Ω—É—Ç—Ä–∏ CPU	–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–∞–±–æ—á–∏–π
–ü—Ä–æ—Ü–µ—Å—Å	–ó–∞–ø—É—â–µ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞	–í–µ—Å—å –∑–∞–≤–æ–¥ —Å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–µ–π
–ü–æ—Ç–æ–∫	–õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –ø–æ–¥–∑–∞–¥–∞—á–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞	–û—Ç–¥–µ–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –Ω–∞ –∑–∞–≤–æ–¥–µ
–ö–ª—é—á–µ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞
–û–±—ã—á–Ω—ã–π Python-–∫–æ–¥ = 1 –ü–†–û–¶–ï–°–° + 1 –ü–û–¢–û–ö + –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ


2Ô∏è‚É£ –î–í–ê –¢–ò–ü–ê –ó–ê–î–ê–ß
üî• CPU Bound (–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ)
–°—É—Ç—å: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
–ü—Ä–∏–º–µ—Ä—ã: —Ä–∞—Å—á–µ—Ç —á–∏—Å–µ–ª, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ, —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
–†–µ—à–µ–Ω–∏–µ: multiprocessing (–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º)


üåä I/O Bound (–í–≤–æ–¥-–≤—ã–≤–æ–¥)
–°—É—Ç—å: –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ (—Å–µ—Ç—å/–¥–∏—Å–∫)
–ü—Ä–∏–º–µ—Ä—ã: –∑–∞–ø—Ä–æ—Å—ã –∫ API, —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, —Ä–∞–±–æ—Ç–∞ —Å –ë–î
–†–µ—à–µ–Ω–∏–µ: asyncio –∏–ª–∏ threading (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å)


3Ô∏è‚É£ –ö–û–ù–ö–£–†–ï–ù–¢–ù–û–°–¢–¨ vs –ü–ê–†–ê–õ–õ–ï–õ–ò–ó–ú
üéØ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (Concurrency)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã
–£–º–µ–Ω–∏–µ "–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è" –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏
1 –ø–æ–≤–∞—Ä –≥–æ—Ç–æ–≤–∏—Ç 3 –±–ª—é–¥–∞, –ø–µ—Ä–µ–∫–ª—é—á–∞—è—Å—å
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: asyncio, threading

‚ö° –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (Parallelism)
–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
–ù–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è
3 –ø–æ–≤–∞—Ä–∞ –≥–æ—Ç–æ–≤—è—Ç 3 –±–ª—é–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: multiprocessing

üí° –í–∞–∂–Ω–æ!
–û–Ω–∏ –Ω–µ –∏—Å–∫–ª—é—á–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞! –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å:
2 –ø—Ä–æ—Ü–µ—Å—Å–∞ (–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º) + –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ asyncio (–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å)

POOL - –≠–¢–û:

üîπ –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
üîπ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å–æ–∑–¥–∞–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑)
üîπ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
üîπ –°–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

–û–°–ù–û–í–ù–´–ï –ú–ï–¢–û–î–´:
- map/map_async  ‚Äî –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö, –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è
- apply/apply_async ‚Äî –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –ª—é–±—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- starmap ‚Äî –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
- imap/imap_unordered ‚Äî –ª–µ–Ω–∏–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

–ö–û–ì–î–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:
‚úÖ –ú–Ω–æ–≥–æ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –∑–∞–¥–∞—á
‚úÖ –•–æ—Ç–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —á–∏—Å–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚úÖ –ù–µ —Ö–æ—Ç–∏–º –ø–∏—Å–∞—Ç—å –∫–æ–¥ —Å –æ—á–µ—Ä–µ–¥—è–º–∏
‚úÖ –í–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ö–û–ì–î–ê –ù–ï–¢:
‚ùå –ó–∞–¥–∞—á–∏ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞
‚ùå –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
‚ùå –°–æ–≤—Å–µ–º –º–∞–ª–æ –∑–∞–¥–∞—á

–¢–†–ò –ö–ò–¢–ê PYTHON
üßµ threading (–ü–æ—Ç–æ–∫–∏)
import threading

def worker():
    print("–†–∞–±–æ—Ç–∞—é")

t = threading.Thread(target=worker)
t.start()
t.join()  # –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
–î–ª—è: I/O Bound –∑–∞–¥–∞—á

–ü–∞–º—è—Ç—å: –û–±—â–∞—è
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: GIL (–æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏)

‚öôÔ∏è multiprocessing (–ü—Ä–æ—Ü–µ—Å—Å—ã)
from multiprocessing import Process

def worker():
    print("–†–∞–±–æ—Ç–∞—é")

p = Process(target=worker)
p.start()
p.join()

–î–ª—è: CPU Bound –∑–∞–¥–∞—á
–ü–∞–º—è—Ç—å: –£ –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ—è
–ü–ª—é—Å: –†–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

üîÑ asyncio (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å)
import asyncio

async def worker():
    print("–†–∞–±–æ—Ç–∞—é")
    await asyncio.sleep(1)  # –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç!

asyncio.run(worker())
–î–ª—è: I/O Bound (–æ—Å–æ–±–µ–Ω–Ω–æ –º–Ω–æ–≥–æ –∑–∞–¥–∞—á)
–°—É—Ç—å: 1 –ø–æ—Ç–æ–∫, event loop, –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
–ö–ª—é—á–µ–≤–æ–µ: await ‚Äî –º–µ—Å—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è


–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–û–ù–ò–ú–ê–¢–¨
‚ö†Ô∏è –û–±—ã—á–Ω—ã–π –∫–æ–¥ –ù–ï —Å–æ–∑–¥–∞–µ—Ç –ø–æ—Ç–æ–∫–∏/–ø—Ä–æ—Ü–µ—Å—Å—ã
python
# –í–°–Å —ç—Ç–æ –≤ –û–î–ù–û–ú –ø–æ—Ç–æ–∫–µ:
class MyClass:
    def method(self): pass

for i in range(1000):
    print(i)  # –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ!

def func(): pass
func()  # –≤ —Ç–æ–º –∂–µ –ø–æ—Ç–æ–∫–µ


üö´ –ß—Ç–æ –ù–ï –†–ê–ë–û–¢–ê–ï–¢
threading –Ω–µ —É—Å–∫–æ—Ä–∏—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (GIL)
asyncio –Ω–µ —É—Å–∫–æ—Ä–∏—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–Ω—É–∂–µ–Ω await)
time.sleep() –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—ë (–≤ –æ–±—ã—á–Ω–æ–º –∫–æ–¥–µ)

‚úÖ –ß—Ç–æ –†–ê–ë–û–¢–ê–ï–¢
await asyncio.sleep() –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç
threading –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤
multiprocessing –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π


6Ô∏è‚É£ –ú–ï–¢–û–î–´ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò
üîí Lock (–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞)

lock = threading.Lock()
with lock:
    # –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ —Å—é–¥–∞
    counter += 1
üì¶ Queue (–û—á–µ—Ä–µ–¥—å)

from queue import Queue
q = Queue()
q.put(data)
data = q.get()  # –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
ü§ù join() ‚Äî –ñ–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
python
p.join()  # –†–æ–¥–∏—Ç–µ–ª—å –∂–¥–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å
t.join()  # –ü–æ—Ç–æ–∫ –∂–¥–µ—Ç –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫


–ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –ü–ê–¢–¢–ï–†–ù–´
–ü–∞—Ç—Ç–µ—Ä–Ω "–ì–∏–±—Ä–∏–¥"
python
# –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (2 –ø—Ä–æ—Ü–µ—Å—Å–∞) + –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (asyncio –≤–Ω—É—Ç—Ä–∏)
with multiprocessing.Pool(2) as pool:
    pool.map(async_function, huge_list)

–ü–∞—Ç—Ç–µ—Ä–Ω "–ü—É–ª—ã"
python
from multiprocessing import Pool
with Pool(4) as pool:
    results = pool.map(cpu_func, data)  # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

from concurrent.futures import ThreadPoolExecutor
with ThreadPoolExecutor(10) as executor:
    results = executor.map(io_func, urls)  # –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ


üéØ –ó–û–õ–û–¢–û–ï –ü–†–ê–í–ò–õ–û
CPU Bound ‚Üí multiprocessing
I/O Bound ‚Üí asyncio (–∏–ª–∏ threading)
–ö–æ–º–±–∏–Ω–∞—Ü–∏—è ‚Üí –ì–∏–±—Ä–∏–¥–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã